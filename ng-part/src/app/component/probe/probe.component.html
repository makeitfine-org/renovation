<div>
  <h3 class="text-3xl font-medium text-gray-700">Probe and Test</h3>

  <div class="mt-8">
    <h4 class="text-gray-600">WebSocket</h4>

    <div class="mt-4">
      <div class="flex px-4 py-4 space-x-4 overflow-x-auto bg-white rounded-md">
        <button
          (click)="sendMessage()"
          class="px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform bg-indigo-600 rounded-md hover:bg-indigo-500 focus:outline-none focus:bg-indigo-500"
          title="send message to websocket server">
          Send Message
        </button>

        <button
          (click)="connectWebSocket()"
          [disabled]="isConnectionOpen()"
          [ngClass]="!isConnectionOpen() ? 'bg-green-600 hover:bg-green-500': 'bg-gray-400 hover:bg-gray-400'"
          class="flex items-center px-2 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform rounded-md focus:outline-none focus:bg-indigo-500">
          <svg class="w-5 h-5 mx-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path clip-rule="evenodd"
                  d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                  fill-rule="evenodd" />
          </svg>
          <span class="mx-1">Connect WS</span>
        </button>

        <button
          (click)="closeWebSocket()"
          [disabled]="!isConnectionOpen()"
          [ngClass]="isConnectionOpen() ? 'bg-red-600 hover:bg-red-500' : 'bg-gray-400 hover:bg-gray-400'"
          class="px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-200 transform rounded-md focus:outline-none focus:bg-indigo-500"
          title="close websocket connection">
          Close WS
        </button>
      </div>
    </div>
  </div>

  <div class="mt-8">
    <ul>
      <!--      fix error in console if connection closed-->
      <li *ngFor="let message of messages">{{ message }}</li>
    </ul>
  </div>
</div>
